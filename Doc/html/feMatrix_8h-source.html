<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DENDRO: /net/ac190/www-db1/grads/r/rahulss/Dendro/include/fem/feMatrix.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000001.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000003.html">fem</a></div>
<h1>feMatrix.h</h1><a href="feMatrix_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef __FE_MATRIX_H_</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define __FE_MATRIX_H_</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#include &lt;string&gt;</span>
00005 <span class="preprocessor">#include "<a class="code" href="feMat_8h.html">feMat.h</a>"</span>
00006 <span class="preprocessor">#include "<a class="code" href="timeInfo_8h.html">timeInfo.h</a>"</span>
00007 
00008 <span class="keyword">namespace </span>ot {
00009   <span class="keyword">namespace </span>fem {
00010 
00011     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00012"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html">00012</a>       <span class="keyword">class </span><a class="code" href="classot_1_1fem_1_1feMatrix.html">feMatrix</a> : <span class="keyword">public</span> <a class="code" href="classot_1_1fem_1_1feMat.html">feMat</a> {
00013         <span class="keyword">public</span>:  
00014 
<a name="l00015"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#w27">00015</a>           <span class="keyword">enum</span> stdElemType {
00016             ST_0,ST_1,ST_2,ST_3,ST_4,ST_5,ST_6,ST_7
00017           };
00018 
<a name="l00019"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#w18">00019</a>           <span class="keyword">enum</span> exhaustiveElemType {
00020             <span class="comment">//Order: 654321</span>
00021             <span class="comment">//YZ ZX Z XY Y X</span>
00022             ET_N = 0,
00023             ET_Y = 2,
00024             ET_X = 1,
00025             ET_XY = 3,
00026             ET_Z = 8,
00027             ET_ZY = 10,
00028             ET_ZX = 9,
00029             ET_ZXY = 11,
00030             ET_XY_XY = 7,
00031             ET_XY_ZXY = 15,
00032             ET_YZ_ZY = 42,
00033             ET_YZ_ZXY = 43,
00034             ET_YZ_XY_ZXY = 47,
00035             ET_ZX_ZX = 25,
00036             ET_ZX_ZXY = 27,
00037             ET_ZX_XY_ZXY = 31,
00038             ET_ZX_YZ_ZXY = 59,
00039             ET_ZX_YZ_XY_ZXY = 63
00040           };
00041 
00042           <a class="code" href="classot_1_1fem_1_1feMatrix.html">feMatrix</a>();  
00043           <a class="code" href="classot_1_1fem_1_1feMatrix.html">feMatrix</a>(daType da);
00044           ~<a class="code" href="classot_1_1fem_1_1feMatrix.html">feMatrix</a>();
00045 
00046           <span class="comment">// operations.</span>
00047           <span class="keywordtype">void</span> setStencil(<span class="keywordtype">void</span>* stencil);
00048 
00049           <span class="keywordtype">void</span> setName(std::string name);
00050 
00064           <span class="keyword">virtual</span> <span class="keywordtype">bool</span> MatVec(Vec _in, Vec _out, <span class="keywordtype">double</span> scale=1.0);
00065 
00066           <span class="keyword">virtual</span> <span class="keywordtype">bool</span> MatGetDiagonal(Vec _diag, <span class="keywordtype">double</span> scale=1.0);
00067 
<a name="l00081"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#a5">00081</a>           <span class="keyword">inline</span> <span class="keywordtype">bool</span> ElementalMatVec(<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> j, <span class="keywordtype">int</span> k, PetscScalar ***in, PetscScalar ***out, <span class="keywordtype">double</span> scale) {
00082             <span class="keywordflow">return</span> asLeaf().ElementalMatVec(i,j,k,in,out,scale);  
00083           }
00084 
<a name="l00085"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#a3">00085</a>           <span class="keyword">inline</span> <span class="keywordtype">bool</span> ElementalMatGetDiagonal(<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> j, <span class="keywordtype">int</span> k, PetscScalar ***diag, <span class="keywordtype">double</span> scale) {
00086             <span class="keywordflow">return</span> asLeaf().ElementalMatGetDiagonal(i,j,k,diag,scale);  
00087           }
00088 
<a name="l00102"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#a4">00102</a>           <span class="keyword">inline</span> <span class="keywordtype">bool</span> ElementalMatVec(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx, PetscScalar *in, PetscScalar *out, <span class="keywordtype">double</span> scale) {
00103             <span class="keywordflow">return</span> asLeaf().ElementalMatVec(idx, in, out, scale);  
00104           }
00105 
<a name="l00106"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#a2">00106</a>           <span class="keyword">inline</span> <span class="keywordtype">bool</span> ElementalMatGetDiagonal(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx, PetscScalar *diag, <span class="keywordtype">double</span> scale) {
00107             <span class="keywordflow">return</span> asLeaf().ElementalMatGetDiagonal(idx, diag, scale);  
00108           }
00109 
00110           <span class="comment">// PetscErrorCode matVec(Vec in, Vec out, timeInfo info);</span>
00111 
<a name="l00117"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#a1">00117</a>           T&amp; asLeaf() { <span class="keywordflow">return</span> static_cast&lt;T&amp;&gt;(*this);}  
00118 
<a name="l00119"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#a11">00119</a>           <span class="keywordtype">bool</span> initStencils() {
00120             <span class="keywordflow">return</span> asLeaf().initStencils();
00121           }
00122 
<a name="l00123"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#a16">00123</a>           <span class="keywordtype">bool</span> preMatVec() {
00124             <span class="keywordflow">return</span> asLeaf().preMatVec();
00125           }
00126 
<a name="l00127"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#a15">00127</a>           <span class="keywordtype">bool</span> postMatVec() {
00128             <span class="keywordflow">return</span> asLeaf().postMatVec();
00129           }
00130 
<a name="l00131"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#a18">00131</a>           <span class="keywordtype">void</span> setDof(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dof) { m_uiDof = dof; }
<a name="l00132"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#a8">00132</a>           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getDof() { <span class="keywordflow">return</span> m_uiDof; }
00133 
<a name="l00134"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#a21">00134</a>           <span class="keywordtype">void</span> setTimeInfo(<a class="code" href="classtimeInfo.html">timeInfo</a> *t) { m_time =t; }
<a name="l00135"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#a9">00135</a>           <a class="code" href="classtimeInfo.html">timeInfo</a>* getTimeInfo() { <span class="keywordflow">return</span> m_time; }
00136 
00137           <span class="keywordtype">void</span> initOctLut();
00138 
00139 
00140           <span class="keyword">inline</span> PetscErrorCode alignElementAndVertices(<a class="code" href="classot_1_1DA.html">ot::DA</a> * da,
00141               stdElemType &amp; sType, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>* indices);
00142           <span class="keyword">inline</span> PetscErrorCode mapVtxAndFlagsToOrientation(<span class="keywordtype">int</span> childNum, 
00143               <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>* indices, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> &amp; mask);
00144           <span class="keyword">inline</span> PetscErrorCode reOrderIndices(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> eType,
00145               <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>* indices);
00146 
00147         <span class="keyword">protected</span>:
<a name="l00148"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#p0">00148</a>           <span class="keywordtype">void</span> *                m_stencil;
00149 
<a name="l00150"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#p1">00150</a>           std::string           m_strMatrixType;
00151 
<a name="l00152"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#p2">00152</a>           <a class="code" href="classtimeInfo.html">timeInfo</a>              *m_time;
00153 
<a name="l00154"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#p4">00154</a>           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>          m_uiDof;
00155 
00156           <span class="comment">// Octree specific stuff ...</span>
<a name="l00157"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#p3">00157</a>           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> **      m_ucpLut;
00158       };
00159 
00160 <span class="preprocessor">#include "<a class="code" href="feMatrix_8txx.html">feMatrix.txx</a>"</span>
00161 
<a name="l00162"></a><a class="code" href="classot_1_1fem_1_1feMatrix.html#a7">00162</a>   } <span class="comment">// end namespace fem</span>
00163 } <span class="comment">// end namespace ot</span>
00164 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Dec 10 11:31:27 2008 for DENDRO by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
