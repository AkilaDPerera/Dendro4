<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DENDRO: /net/ac190/www-db1/grads/r/rahulss/Dendro/include/omg/omg.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000001.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000006.html">omg</a></div>
<h1>omg.h</h1><a href="omg_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 
00013 <span class="preprocessor">#ifndef __OCT_MG_H__</span>
00014 <span class="preprocessor"></span><span class="preprocessor">#define __OCT_MG_H__</span>
00015 <span class="preprocessor"></span>
00016 <span class="preprocessor">#include "petscpc.h"</span>
00017 <span class="preprocessor">#include "petscksp.h"</span>
00018 <span class="preprocessor">#include &lt;vector&gt;</span>
00019 
00020 <span class="preprocessor">#ifdef PETSC_USE_LOG</span>
00021 <span class="preprocessor"></span>
00022 <span class="preprocessor">#include "petscsys.h"</span>
00023 
00024 <span class="keyword">namespace </span>ot {
00025   <span class="keyword">extern</span> <span class="keywordtype">int</span> setDaEvent;
00026   <span class="keyword">extern</span> <span class="keywordtype">int</span> setUpEvent;
00027   <span class="keyword">extern</span> <span class="keywordtype">int</span> createRp1Event;
00028   <span class="keyword">extern</span> <span class="keywordtype">int</span> createRp2Event;
00029   <span class="keyword">extern</span> <span class="keywordtype">int</span> setKspEvent;
00030   <span class="keyword">extern</span> <span class="keywordtype">int</span> restrictEvent;
00031   <span class="keyword">extern</span> <span class="keywordtype">int</span> dummyRestrictEvent;
00032   <span class="keyword">extern</span> <span class="keywordtype">int</span> prolongEvent;
00033   <span class="keyword">extern</span> <span class="keywordtype">int</span> scatterEvent;
00034   <span class="keyword">extern</span> <span class="keywordtype">int</span> damgInitEvent;
00035   <span class="keyword">extern</span> <span class="keywordtype">int</span> damgFinalEvent;
00036   
00037   <span class="keyword">extern</span> <span class="keywordtype">int</span> setDAstage1Event;
00038   <span class="keyword">extern</span> <span class="keywordtype">int</span> setDAstage2Event;
00039   <span class="keyword">extern</span> <span class="keywordtype">int</span> setDAstage3Event;
00040   <span class="keyword">extern</span> <span class="keywordtype">int</span> setDAstage4Event;
00041   <span class="keyword">extern</span> <span class="keywordtype">int</span> setDAstage5Event;
00042   <span class="keyword">extern</span> <span class="keywordtype">int</span> setDAstage6Event;
00043 }
00044 
00045 <span class="preprocessor">#define PROF_SET_DA_STAGE1_BEGIN PetscLogEventBegin(setDAstage1Event,0,0,0,0);</span>
00046 <span class="preprocessor"></span><span class="preprocessor">#define PROF_SET_DA_STAGE1_END PetscLogEventEnd(setDAstage1Event,0,0,0,0); </span>
00047 <span class="preprocessor"></span>
00048 <span class="preprocessor">#define PROF_SET_DA_STAGE2_BEGIN PetscLogEventBegin(setDAstage2Event,0,0,0,0);</span>
00049 <span class="preprocessor"></span><span class="preprocessor">#define PROF_SET_DA_STAGE2_END PetscLogEventEnd(setDAstage2Event,0,0,0,0); </span>
00050 <span class="preprocessor"></span>
00051 <span class="preprocessor">#define PROF_SET_DA_STAGE3_BEGIN PetscLogEventBegin(setDAstage3Event,0,0,0,0);</span>
00052 <span class="preprocessor"></span><span class="preprocessor">#define PROF_SET_DA_STAGE3_END PetscLogEventEnd(setDAstage3Event,0,0,0,0); </span>
00053 <span class="preprocessor"></span>
00054 <span class="preprocessor">#define PROF_SET_DA_STAGE4_BEGIN PetscLogEventBegin(setDAstage4Event,0,0,0,0);</span>
00055 <span class="preprocessor"></span><span class="preprocessor">#define PROF_SET_DA_STAGE4_END PetscLogEventEnd(setDAstage4Event,0,0,0,0); </span>
00056 <span class="preprocessor"></span>
00057 <span class="preprocessor">#define PROF_SET_DA_STAGE5_BEGIN PetscLogEventBegin(setDAstage5Event,0,0,0,0);</span>
00058 <span class="preprocessor"></span><span class="preprocessor">#define PROF_SET_DA_STAGE5_END PetscLogEventEnd(setDAstage5Event,0,0,0,0); </span>
00059 <span class="preprocessor"></span>
00060 <span class="preprocessor">#define PROF_SET_DA_STAGE6_BEGIN PetscLogEventBegin(setDAstage6Event,0,0,0,0);</span>
00061 <span class="preprocessor"></span><span class="preprocessor">#define PROF_SET_DA_STAGE6_END PetscLogEventEnd(setDAstage6Event,0,0,0,0); </span>
00062 <span class="preprocessor"></span>
00063 <span class="preprocessor">#define PROF_MG_INIT_BEGIN  PetscFunctionBegin; \</span>
00064 <span class="preprocessor">  PetscLogEventBegin(damgInitEvent,0,0,0,0);</span>
00065 <span class="preprocessor"></span>
00066 <span class="preprocessor">#define PROF_MG_INIT_END PetscLogEventEnd(damgInitEvent,0,0,0,0); \</span>
00067 <span class="preprocessor">  PetscFunctionReturn(0);</span>
00068 <span class="preprocessor"></span>
00069 <span class="preprocessor">#define PROF_MG_FINAL_BEGIN  PetscFunctionBegin; \</span>
00070 <span class="preprocessor">  PetscLogEventBegin(damgFinalEvent,0,0,0,0);</span>
00071 <span class="preprocessor"></span>
00072 <span class="preprocessor">#define PROF_MG_FINAL_END PetscLogEventEnd(damgFinalEvent,0,0,0,0); \</span>
00073 <span class="preprocessor">  PetscFunctionReturn(0);</span>
00074 <span class="preprocessor"></span>
00075 <span class="preprocessor">#define PROF_MG_SET_KSP_BEGIN  PetscFunctionBegin; \</span>
00076 <span class="preprocessor">  PetscLogEventBegin(setKspEvent,0,0,0,0);</span>
00077 <span class="preprocessor"></span>
00078 <span class="preprocessor">#define PROF_MG_SET_KSP_END PetscLogEventEnd(setKspEvent,0,0,0,0); \</span>
00079 <span class="preprocessor">  PetscFunctionReturn(0);</span>
00080 <span class="preprocessor"></span>
00081 <span class="preprocessor">#define PROF_MG_SET_DA_BEGIN  PetscFunctionBegin; \</span>
00082 <span class="preprocessor">  PetscLogEventBegin(setDaEvent,0,0,0,0);</span>
00083 <span class="preprocessor"></span>
00084 <span class="preprocessor">#define PROF_MG_SET_DA_END PetscLogEventEnd(setDaEvent,0,0,0,0); \</span>
00085 <span class="preprocessor">  PetscFunctionReturn(0);</span>
00086 <span class="preprocessor"></span>
00087 <span class="preprocessor">#define PROF_MG_SETUP_BEGIN  PetscFunctionBegin; \</span>
00088 <span class="preprocessor">  PetscLogEventBegin(setUpEvent,0,0,0,0);</span>
00089 <span class="preprocessor"></span>
00090 <span class="preprocessor">#define PROF_MG_SETUP_END PetscLogEventEnd(setUpEvent,0,0,0,0); \</span>
00091 <span class="preprocessor">  PetscFunctionReturn(0);</span>
00092 <span class="preprocessor"></span>
00093 <span class="preprocessor">#define PROF_MG_CREATE_RP1_BEGIN  PetscFunctionBegin; \</span>
00094 <span class="preprocessor">  PetscLogEventBegin(createRp1Event,0,0,0,0);</span>
00095 <span class="preprocessor"></span>
00096 <span class="preprocessor">#define PROF_MG_CREATE_RP1_END PetscLogEventEnd(createRp1Event,0,0,0,0); \</span>
00097 <span class="preprocessor">  PetscFunctionReturn(0);</span>
00098 <span class="preprocessor"></span>
00099 <span class="preprocessor">#define PROF_MG_CREATE_RP2_BEGIN  PetscFunctionBegin; \</span>
00100 <span class="preprocessor">  PetscLogEventBegin(createRp2Event,0,0,0,0);</span>
00101 <span class="preprocessor"></span>
00102 <span class="preprocessor">#define PROF_MG_CREATE_RP2_END PetscLogEventEnd(createRp2Event,0,0,0,0); \</span>
00103 <span class="preprocessor">  PetscFunctionReturn(0);</span>
00104 <span class="preprocessor"></span>
00105 <span class="preprocessor">#define PROF_MG_RESTRICT_BEGIN PetscFunctionBegin; \</span>
00106 <span class="preprocessor">  PetscLogEventBegin(restrictEvent,0,0,0,0);</span>
00107 <span class="preprocessor"></span>
00108 <span class="preprocessor">#define PROF_MG_RESTRICT_END PetscLogEventEnd(restrictEvent,0,0,0,0); \</span>
00109 <span class="preprocessor">  PetscFunctionReturn(0);</span>
00110 <span class="preprocessor"></span>
00111 <span class="preprocessor">#define PROF_MG_RESTRICT_DUMMY_BEGIN PetscFunctionBegin; \</span>
00112 <span class="preprocessor">  PetscLogEventBegin(dummyRestrictEvent,0,0,0,0);</span>
00113 <span class="preprocessor"></span>
00114 <span class="preprocessor">#define PROF_MG_RESTRICT_DUMMY_END PetscLogEventEnd(dummyRestrictEvent,0,0,0,0); \</span>
00115 <span class="preprocessor">  PetscFunctionReturn(0);</span>
00116 <span class="preprocessor"></span>
00117 <span class="preprocessor">#define PROF_MG_PROLONG_BEGIN  PetscFunctionBegin; \</span>
00118 <span class="preprocessor">  PetscLogEventBegin(prolongEvent,0,0,0,0);</span>
00119 <span class="preprocessor"></span>
00120 <span class="preprocessor">#define PROF_MG_PROLONG_END PetscLogEventEnd(prolongEvent,0,0,0,0); \</span>
00121 <span class="preprocessor">  PetscFunctionReturn(0);</span>
00122 <span class="preprocessor"></span>
00123 <span class="preprocessor">#define PROF_MG_SCATTER_BEGIN PetscLogEventBegin(scatterEvent,0,0,0,0);</span>
00124 <span class="preprocessor"></span>
00125 <span class="preprocessor">#define PROF_MG_SCATTER_END PetscLogEventEnd(scatterEvent,0,0,0,0); \</span>
00126 <span class="preprocessor">  return 0;</span>
00127 <span class="preprocessor"></span>
00128 <span class="preprocessor">#else</span>
00129 <span class="preprocessor"></span>
<a name="l00130"></a><a class="code" href="omg_8h.html#a0">00130</a> <span class="preprocessor">#define PROF_SET_DA_STAGE1_BEGIN </span>
<a name="l00131"></a><a class="code" href="omg_8h.html#a1">00131</a> <span class="preprocessor"></span><span class="preprocessor">#define PROF_SET_DA_STAGE1_END </span>
00132 <span class="preprocessor"></span>
<a name="l00133"></a><a class="code" href="omg_8h.html#a2">00133</a> <span class="preprocessor">#define PROF_SET_DA_STAGE2_BEGIN </span>
<a name="l00134"></a><a class="code" href="omg_8h.html#a3">00134</a> <span class="preprocessor"></span><span class="preprocessor">#define PROF_SET_DA_STAGE2_END </span>
00135 <span class="preprocessor"></span>
<a name="l00136"></a><a class="code" href="omg_8h.html#a4">00136</a> <span class="preprocessor">#define PROF_SET_DA_STAGE3_BEGIN </span>
<a name="l00137"></a><a class="code" href="omg_8h.html#a5">00137</a> <span class="preprocessor"></span><span class="preprocessor">#define PROF_SET_DA_STAGE3_END </span>
00138 <span class="preprocessor"></span>
<a name="l00139"></a><a class="code" href="omg_8h.html#a6">00139</a> <span class="preprocessor">#define PROF_SET_DA_STAGE4_BEGIN </span>
<a name="l00140"></a><a class="code" href="omg_8h.html#a7">00140</a> <span class="preprocessor"></span><span class="preprocessor">#define PROF_SET_DA_STAGE4_END </span>
00141 <span class="preprocessor"></span>
<a name="l00142"></a><a class="code" href="omg_8h.html#a8">00142</a> <span class="preprocessor">#define PROF_SET_DA_STAGE5_BEGIN </span>
<a name="l00143"></a><a class="code" href="omg_8h.html#a9">00143</a> <span class="preprocessor"></span><span class="preprocessor">#define PROF_SET_DA_STAGE5_END </span>
00144 <span class="preprocessor"></span>
<a name="l00145"></a><a class="code" href="omg_8h.html#a10">00145</a> <span class="preprocessor">#define PROF_SET_DA_STAGE6_BEGIN </span>
<a name="l00146"></a><a class="code" href="omg_8h.html#a11">00146</a> <span class="preprocessor"></span><span class="preprocessor">#define PROF_SET_DA_STAGE6_END </span>
00147 <span class="preprocessor"></span>
<a name="l00148"></a><a class="code" href="omg_8h.html#a12">00148</a> <span class="preprocessor">#define PROF_MG_INIT_BEGIN PetscFunctionBegin; </span>
00149 <span class="preprocessor"></span>
<a name="l00150"></a><a class="code" href="omg_8h.html#a13">00150</a> <span class="preprocessor">#define PROF_MG_INIT_END PetscFunctionReturn(0);</span>
00151 <span class="preprocessor"></span>
<a name="l00152"></a><a class="code" href="omg_8h.html#a14">00152</a> <span class="preprocessor">#define PROF_MG_FINAL_BEGIN PetscFunctionBegin; </span>
00153 <span class="preprocessor"></span>
<a name="l00154"></a><a class="code" href="omg_8h.html#a15">00154</a> <span class="preprocessor">#define PROF_MG_FINAL_END PetscFunctionReturn(0);</span>
00155 <span class="preprocessor"></span>
<a name="l00156"></a><a class="code" href="omg_8h.html#a16">00156</a> <span class="preprocessor">#define PROF_MG_SET_KSP_BEGIN PetscFunctionBegin; </span>
00157 <span class="preprocessor"></span>
<a name="l00158"></a><a class="code" href="omg_8h.html#a17">00158</a> <span class="preprocessor">#define PROF_MG_SET_KSP_END PetscFunctionReturn(0);</span>
00159 <span class="preprocessor"></span>
<a name="l00160"></a><a class="code" href="omg_8h.html#a18">00160</a> <span class="preprocessor">#define PROF_MG_SET_DA_BEGIN PetscFunctionBegin; </span>
00161 <span class="preprocessor"></span>
<a name="l00162"></a><a class="code" href="omg_8h.html#a19">00162</a> <span class="preprocessor">#define PROF_MG_SET_DA_END PetscFunctionReturn(0);</span>
00163 <span class="preprocessor"></span>
<a name="l00164"></a><a class="code" href="omg_8h.html#a20">00164</a> <span class="preprocessor">#define PROF_MG_SETUP_BEGIN PetscFunctionBegin; </span>
00165 <span class="preprocessor"></span>
<a name="l00166"></a><a class="code" href="omg_8h.html#a21">00166</a> <span class="preprocessor">#define PROF_MG_SETUP_END PetscFunctionReturn(0);</span>
00167 <span class="preprocessor"></span>
<a name="l00168"></a><a class="code" href="omg_8h.html#a22">00168</a> <span class="preprocessor">#define PROF_MG_CREATE_RP1_BEGIN PetscFunctionBegin; </span>
00169 <span class="preprocessor"></span>
<a name="l00170"></a><a class="code" href="omg_8h.html#a23">00170</a> <span class="preprocessor">#define PROF_MG_CREATE_RP1_END PetscFunctionReturn(0);</span>
00171 <span class="preprocessor"></span>
<a name="l00172"></a><a class="code" href="omg_8h.html#a24">00172</a> <span class="preprocessor">#define PROF_MG_CREATE_RP2_BEGIN PetscFunctionBegin; </span>
00173 <span class="preprocessor"></span>
<a name="l00174"></a><a class="code" href="omg_8h.html#a25">00174</a> <span class="preprocessor">#define PROF_MG_CREATE_RP2_END PetscFunctionReturn(0);</span>
00175 <span class="preprocessor"></span>
<a name="l00176"></a><a class="code" href="omg_8h.html#a26">00176</a> <span class="preprocessor">#define PROF_MG_SCATTER_BEGIN </span>
00177 <span class="preprocessor"></span>
<a name="l00178"></a><a class="code" href="omg_8h.html#a27">00178</a> <span class="preprocessor">#define PROF_MG_SCATTER_END return 0;</span>
00179 <span class="preprocessor"></span>
<a name="l00180"></a><a class="code" href="omg_8h.html#a28">00180</a> <span class="preprocessor">#define PROF_MG_RESTRICT_BEGIN PetscFunctionBegin; </span>
00181 <span class="preprocessor"></span>
<a name="l00182"></a><a class="code" href="omg_8h.html#a29">00182</a> <span class="preprocessor">#define PROF_MG_RESTRICT_END PetscFunctionReturn(0);</span>
00183 <span class="preprocessor"></span>
<a name="l00184"></a><a class="code" href="omg_8h.html#a30">00184</a> <span class="preprocessor">#define PROF_MG_RESTRICT_DUMMY_BEGIN PetscFunctionBegin; </span>
00185 <span class="preprocessor"></span>
<a name="l00186"></a><a class="code" href="omg_8h.html#a31">00186</a> <span class="preprocessor">#define PROF_MG_RESTRICT_DUMMY_END PetscFunctionReturn(0);</span>
00187 <span class="preprocessor"></span>
<a name="l00188"></a><a class="code" href="omg_8h.html#a32">00188</a> <span class="preprocessor">#define PROF_MG_PROLONG_BEGIN PetscFunctionBegin; </span>
00189 <span class="preprocessor"></span>
<a name="l00190"></a><a class="code" href="omg_8h.html#a33">00190</a> <span class="preprocessor">#define PROF_MG_PROLONG_END PetscFunctionReturn(0);</span>
00191 <span class="preprocessor"></span>
00192 <span class="preprocessor">#endif</span>
00193 <span class="preprocessor"></span>
00194 <span class="keyword">namespace </span>ot {
00195 
<a name="l00203"></a><a class="code" href="structot_1_1PC__KSP__Shell.html">00203</a>   <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00204"></a><a class="code" href="structot_1_1PC__KSP__Shell.html#o1">00204</a>     <span class="keywordtype">bool</span> iAmActive; 
<a name="l00205"></a><a class="code" href="structot_1_1PC__KSP__Shell.html#o0">00205</a>     MPI_Comm commActive; 
<a name="l00206"></a><a class="code" href="structot_1_1PC__KSP__Shell.html#o3">00206</a>     PC pc; 
<a name="l00207"></a><a class="code" href="structot_1_1PC__KSP__Shell.html#o2">00207</a>     KSP ksp_private; 
<a name="l00208"></a><a class="code" href="structot_1_1PC__KSP__Shell.html#o4">00208</a>     Vec rhs_private; 
<a name="l00209"></a><a class="code" href="structot_1_1PC__KSP__Shell.html#o5">00209</a>     Vec sol_private; 
00210   } <a class="code" href="structot_1_1PC__KSP__Shell.html">PC_KSP_Shell</a>;
00211 
00212   PetscErrorCode <a class="code" href="namespaceot.html#a109">PC_KSP_Shell_SetUp</a>(<span class="keywordtype">void</span>* ctx);
00213 
00214   PetscErrorCode <a class="code" href="namespaceot.html#a111">PC_KSP_Shell_Apply</a>(<span class="keywordtype">void</span>* ctx, Vec in, Vec out);
00215 
00216   PetscErrorCode <a class="code" href="namespaceot.html#a110">PC_KSP_Shell_Destroy</a>(<span class="keywordtype">void</span>* ctx);
00217 
<a name="l00225"></a><a class="code" href="classot_1_1FineTouchedStatus.html">00225</a>   <span class="keyword">class </span><a class="code" href="classot_1_1FineTouchedStatus.html">FineTouchedStatus</a> {
00226     <span class="keyword">public</span>:
<a name="l00227"></a><a class="code" href="classot_1_1FineTouchedStatus.html#o0">00227</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> flags[8];
00228 
<a name="l00231"></a><a class="code" href="classot_1_1FineTouchedStatus.html#z40_1">00231</a>       <a class="code" href="classot_1_1FineTouchedStatus.html">FineTouchedStatus</a>() {
00232         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;8;i++) {
00233           flags[i] = 0;
00234         }
00235       }    
00236 
<a name="l00237"></a><a class="code" href="classot_1_1FineTouchedStatus.html#z40_0">00237</a>       <a class="code" href="classot_1_1FineTouchedStatus.html">FineTouchedStatus</a>(<span class="keyword">const</span> <a class="code" href="classot_1_1FineTouchedStatus.html">FineTouchedStatus</a> &amp; other) {
00238         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;8; i++) {
00239           this-&gt;flags[i] = other.<a class="code" href="classot_1_1FineTouchedStatus.html#o0">flags</a>[i];
00240         }
00241       }
00243 
<a name="l00246"></a><a class="code" href="classot_1_1FineTouchedStatus.html#z42_3">00246</a>       <a class="code" href="classot_1_1FineTouchedStatus.html">FineTouchedStatus</a> &amp; operator = (<a class="code" href="classot_1_1FineTouchedStatus.html">FineTouchedStatus</a> <span class="keyword">const</span>  &amp; other) {
00247         <span class="keywordflow">if</span>(<span class="keyword">this</span> == (&amp;other)) {<span class="keywordflow">return</span> *<span class="keyword">this</span>;}    
00248         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;8; i++) {
00249           this-&gt;flags[i] = other.<a class="code" href="classot_1_1FineTouchedStatus.html#o0">flags</a>[i];
00250         }
00251         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00252       }<span class="comment">//end fn.</span>
00253 
<a name="l00254"></a><a class="code" href="classot_1_1FineTouchedStatus.html#z42_2">00254</a>       <a class="code" href="classot_1_1FineTouchedStatus.html">FineTouchedStatus</a> &amp; operator +=(<a class="code" href="classot_1_1FineTouchedStatus.html">FineTouchedStatus</a> <span class="keyword">const</span> &amp; other) {
00255         <span class="comment">//Self-Assignment not a problem!</span>
00256         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;8; i++) {
00257           this-&gt;flags[i] |= other.<a class="code" href="classot_1_1FineTouchedStatus.html#o0">flags</a>[i];
00258         }
00259         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00260       }<span class="comment">//end fn.</span>
00261 
<a name="l00262"></a><a class="code" href="classot_1_1FineTouchedStatus.html#z42_4">00262</a>       <span class="keywordtype">bool</span>  operator == ( <a class="code" href="classot_1_1FineTouchedStatus.html">FineTouchedStatus</a> <span class="keyword">const</span>  &amp;other)<span class="keyword"> const </span>{
00263         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; 8; i++ ) {
00264           <span class="keywordflow">if</span>(this-&gt;flags[i] != other.<a class="code" href="classot_1_1FineTouchedStatus.html#o0">flags</a>[i]) {
00265             <span class="keywordflow">return</span> <span class="keyword">false</span>;
00266           }
00267         }
00268         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00269       }
00270 
<a name="l00271"></a><a class="code" href="classot_1_1FineTouchedStatus.html#z42_0">00271</a>       <span class="keywordtype">bool</span>  operator != ( <a class="code" href="classot_1_1FineTouchedStatus.html">FineTouchedStatus</a> <span class="keyword">const</span>  &amp;other)<span class="keyword"> const </span>{
00272         <span class="keywordflow">return</span> (!((*this) == other));
00273       }
00274 
<a name="l00275"></a><a class="code" href="classot_1_1FineTouchedStatus.html#z42_1">00275</a>       <span class="keyword">const</span> <a class="code" href="classot_1_1FineTouchedStatus.html">FineTouchedStatus</a> operator + (<a class="code" href="classot_1_1FineTouchedStatus.html">FineTouchedStatus</a> <span class="keyword">const</span> &amp;other)<span class="keyword"> const </span>{
00276         <span class="keywordflow">return</span> ((<a class="code" href="classot_1_1FineTouchedStatus.html">FineTouchedStatus</a>(*<span class="keyword">this</span>)) += other);
00277       }
00279 
00280   };
00281 
<a name="l00287"></a><a class="code" href="classot_1_1FineTouchedDummyStatus.html">00287</a>   <span class="keyword">class </span><a class="code" href="classot_1_1FineTouchedDummyStatus.html">FineTouchedDummyStatus</a> {
00288     <span class="keyword">public</span>:
<a name="l00289"></a><a class="code" href="classot_1_1FineTouchedDummyStatus.html#o0">00289</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> flags[16];
00290 
<a name="l00293"></a><a class="code" href="classot_1_1FineTouchedDummyStatus.html#z44_1">00293</a>       <a class="code" href="classot_1_1FineTouchedDummyStatus.html">FineTouchedDummyStatus</a>() {
00294         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++) {
00295           flags[i] = 0;
00296         }
00297       }    
00298 
<a name="l00299"></a><a class="code" href="classot_1_1FineTouchedDummyStatus.html#z44_0">00299</a>       <a class="code" href="classot_1_1FineTouchedDummyStatus.html">FineTouchedDummyStatus</a>(<span class="keyword">const</span> <a class="code" href="classot_1_1FineTouchedDummyStatus.html">FineTouchedDummyStatus</a> &amp; other) {
00300         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;16; i++) {
00301           this-&gt;flags[i] = other.<a class="code" href="classot_1_1FineTouchedDummyStatus.html#o0">flags</a>[i];
00302         }
00303       }
00305 
<a name="l00308"></a><a class="code" href="classot_1_1FineTouchedDummyStatus.html#z46_3">00308</a>       <a class="code" href="classot_1_1FineTouchedDummyStatus.html">FineTouchedDummyStatus</a> &amp; operator = (<a class="code" href="classot_1_1FineTouchedDummyStatus.html">FineTouchedDummyStatus</a> <span class="keyword">const</span>  &amp; other) {
00309         <span class="keywordflow">if</span>(<span class="keyword">this</span> == (&amp;other)) {<span class="keywordflow">return</span> *<span class="keyword">this</span>;}    
00310         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;16; i++) {
00311           this-&gt;flags[i] = other.<a class="code" href="classot_1_1FineTouchedDummyStatus.html#o0">flags</a>[i];
00312         }
00313         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00314       }<span class="comment">//end fn.</span>
00315 
<a name="l00316"></a><a class="code" href="classot_1_1FineTouchedDummyStatus.html#z46_2">00316</a>       <a class="code" href="classot_1_1FineTouchedDummyStatus.html">FineTouchedDummyStatus</a> &amp; operator +=(<a class="code" href="classot_1_1FineTouchedDummyStatus.html">FineTouchedDummyStatus</a> <span class="keyword">const</span> &amp; other) {
00317         <span class="comment">//Self-Assignment not a problem!</span>
00318         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;16; i++) {
00319           this-&gt;flags[i] |= other.<a class="code" href="classot_1_1FineTouchedDummyStatus.html#o0">flags</a>[i];
00320         }
00321         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00322       }<span class="comment">//end fn.</span>
00323 
<a name="l00324"></a><a class="code" href="classot_1_1FineTouchedDummyStatus.html#z46_4">00324</a>       <span class="keywordtype">bool</span>  operator == ( <a class="code" href="classot_1_1FineTouchedDummyStatus.html">FineTouchedDummyStatus</a> <span class="keyword">const</span>  &amp;other)<span class="keyword"> const </span>{
00325         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; 16; i++ ) {
00326           <span class="keywordflow">if</span>(this-&gt;flags[i] != other.<a class="code" href="classot_1_1FineTouchedDummyStatus.html#o0">flags</a>[i]) {
00327             <span class="keywordflow">return</span> <span class="keyword">false</span>;
00328           }
00329         }
00330         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00331       }
00332 
<a name="l00333"></a><a class="code" href="classot_1_1FineTouchedDummyStatus.html#z46_0">00333</a>       <span class="keywordtype">bool</span>  operator != ( <a class="code" href="classot_1_1FineTouchedDummyStatus.html">FineTouchedDummyStatus</a> <span class="keyword">const</span>  &amp;other)<span class="keyword"> const </span>{
00334         <span class="keywordflow">return</span> (!((*this) == other));
00335       }
00336 
<a name="l00337"></a><a class="code" href="classot_1_1FineTouchedDummyStatus.html#z46_1">00337</a>       <span class="keyword">const</span> <a class="code" href="classot_1_1FineTouchedDummyStatus.html">FineTouchedDummyStatus</a> operator + (<a class="code" href="classot_1_1FineTouchedDummyStatus.html">FineTouchedDummyStatus</a> <span class="keyword">const</span> &amp;other)<span class="keyword"> const </span>{
00338         <span class="keywordflow">return</span> ((<a class="code" href="classot_1_1FineTouchedDummyStatus.html">FineTouchedDummyStatus</a>(*<span class="keyword">this</span>)) += other);
00339       }
00341 
00342   };
00343 
00344   <span class="comment">//Forward Declarations</span>
00345   <span class="keyword">class </span>DA;
00346   <span class="keyword">class </span>TreeNode;
00347 
<a name="l00353"></a><a class="code" href="structot_1_1TransferOpData.html">00353</a>   <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00354"></a><a class="code" href="structot_1_1TransferOpData.html#o3">00354</a>     <a class="code" href="classot_1_1DA.html">ot::DA</a>* dac; 
<a name="l00355"></a><a class="code" href="structot_1_1TransferOpData.html#o4">00355</a>     <a class="code" href="classot_1_1DA.html">ot::DA</a>* daf; 
<a name="l00356"></a><a class="code" href="structot_1_1TransferOpData.html#o7">00356</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> minIndependentSize; 
<a name="l00360"></a><a class="code" href="structot_1_1TransferOpData.html#o8">00360</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* suppressedDOFc; 
<a name="l00361"></a><a class="code" href="structot_1_1TransferOpData.html#o9">00361</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* suppressedDOFf; 
<a name="l00362"></a><a class="code" href="structot_1_1TransferOpData.html#o6">00362</a>     std::vector&lt;ot::FineTouchedStatus &gt;* fineTouchedFlags; 
<a name="l00363"></a><a class="code" href="structot_1_1TransferOpData.html#o5">00363</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dof; 
<a name="l00364"></a><a class="code" href="structot_1_1TransferOpData.html#o2">00364</a>     MPI_Comm comm;
<a name="l00365"></a><a class="code" href="structot_1_1TransferOpData.html#o10">00365</a>     Vec tmp; <span class="comment">//For R/P-type2 scatter</span>
<a name="l00366"></a><a class="code" href="structot_1_1TransferOpData.html#o1">00366</a>     Vec addRtmp;
<a name="l00367"></a><a class="code" href="structot_1_1TransferOpData.html#o0">00367</a>     Vec addPtmp;
<a name="l00370"></a><a class="code" href="structot_1_1TransferOpData.html#z48_6">00370</a>     <span class="keywordtype">int</span> * sendSzP; 
<a name="l00371"></a><a class="code" href="structot_1_1TransferOpData.html#z48_4">00371</a>     <span class="keywordtype">int</span> * sendOffP; 
<a name="l00372"></a><a class="code" href="structot_1_1TransferOpData.html#z48_2">00372</a>     <span class="keywordtype">int</span> * recvSzP; 
<a name="l00373"></a><a class="code" href="structot_1_1TransferOpData.html#z48_0">00373</a>     <span class="keywordtype">int</span> * recvOffP;
<a name="l00374"></a><a class="code" href="structot_1_1TransferOpData.html#z48_7">00374</a>     <span class="keywordtype">int</span> * sendSzR; 
<a name="l00375"></a><a class="code" href="structot_1_1TransferOpData.html#z48_5">00375</a>     <span class="keywordtype">int</span> * sendOffR; 
<a name="l00376"></a><a class="code" href="structot_1_1TransferOpData.html#z48_3">00376</a>     <span class="keywordtype">int</span> * recvSzR; 
<a name="l00377"></a><a class="code" href="structot_1_1TransferOpData.html#z48_1">00377</a>     <span class="keywordtype">int</span> * recvOffR;
00379   } <a class="code" href="structot_1_1TransferOpData.html">TransferOpData</a>;
00380 
<a name="l00386"></a><a class="code" href="structot_1_1__p__DAMG.html">00386</a>   <span class="keyword">struct </span><a class="code" href="structot_1_1__p__DAMG.html">_p_DAMG</a> {
00387 
<a name="l00388"></a><a class="code" href="structot_1_1__p__DAMG.html#o3">00388</a>     <a class="code" href="classot_1_1DA.html">ot::DA</a>* da; 
<a name="l00389"></a><a class="code" href="structot_1_1__p__DAMG.html#o4">00389</a>     <a class="code" href="classot_1_1DA.html">ot::DA</a>* da_aux;  
<a name="l00392"></a><a class="code" href="structot_1_1__p__DAMG.html#o5">00392</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dof; 
<a name="l00394"></a><a class="code" href="structot_1_1__p__DAMG.html#o15">00394</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* suppressedDOF; 
<a name="l00395"></a><a class="code" href="structot_1_1__p__DAMG.html#o16">00395</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* suppressedDOFaux; 
<a name="l00397"></a><a class="code" href="structot_1_1__p__DAMG.html#o19">00397</a>     Vec            x,b,r;                
<a name="l00398"></a><a class="code" href="structot_1_1__p__DAMG.html#o7">00398</a>     Mat            J;                    
<a name="l00399"></a><a class="code" href="structot_1_1__p__DAMG.html#o0">00399</a>     Mat            B;                   
<a name="l00400"></a><a class="code" href="structot_1_1__p__DAMG.html#o11">00400</a>     Mat            R;                    
<a name="l00401"></a><a class="code" href="structot_1_1__p__DAMG.html#o10">00401</a>     <span class="keywordtype">int</span>       nlevels;              
<a name="l00402"></a><a class="code" href="structot_1_1__p__DAMG.html#o17">00402</a>     <span class="keywordtype">int</span>       totalLevels; 
<a name="l00403"></a><a class="code" href="structot_1_1__p__DAMG.html#o2">00403</a>     MPI_Comm       comm; 
00410     PetscErrorCode (*solve)(<a class="code" href="structot_1_1__p__DAMG.html">_p_DAMG</a>**, int);
00411 
<a name="l00412"></a><a class="code" href="structot_1_1__p__DAMG.html#o18">00412</a>     <span class="keywordtype">void</span>           *user;        
<a name="l00414"></a><a class="code" href="structot_1_1__p__DAMG.html#o8">00414</a>     KSP            ksp;  
00415     PetscErrorCode (*initialguess)(<a class="code" href="structot_1_1__p__DAMG.html">_p_DAMG</a>*, Vec); 
00416     PetscErrorCode (*rhs)(<a class="code" href="structot_1_1__p__DAMG.html">_p_DAMG</a>*,Vec); 
<a name="l00417"></a><a class="code" href="structot_1_1__p__DAMG.html#o9">00417</a>     PetscTruth     matricesset;  
00418   };<span class="comment">//end struct definition</span>
00419 
<a name="l00421"></a><a class="code" href="namespaceot.html#a9">00421</a>   <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structot_1_1__p__DAMG.html">_p_DAMG</a>* <a class="code" href="structot_1_1__p__DAMG.html">DAMG</a>; 
00422 
00423   <span class="comment">//Public Functions</span>
00424 
00438   PetscErrorCode <a class="code" href="namespaceot.html#a103">DAMGCreateAndSetDA</a>(MPI_Comm comm, <span class="keywordtype">int</span>&amp; nlevels,
00439       <span class="keywordtype">void</span>* user, DAMG** damg, std::vector&lt;ot::TreeNode&gt;&amp; finestOctree,
00440       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dof = 1, <span class="keywordtype">double</span> loadFac = 1.5,
00441       <span class="keywordtype">bool</span> compressLut = <span class="keyword">true</span>, <span class="keywordtype">bool</span> incCorner = <span class="keyword">true</span>);
00442 
00447   PetscErrorCode <a class="code" href="namespaceot.html#a136">DAMGCreateJMatrix</a>(DAMG damg, PetscErrorCode (*crJ)(DAMG, Mat*J));
00448 
00456   PetscErrorCode <a class="code" href="namespaceot.html#a137">DAMGSetKSP</a>(DAMG* damg, PetscErrorCode (*crjac)(DAMG, Mat* B),
00457       PetscErrorCode (*computeJac)(DAMG, Mat J, Mat B), PetscErrorCode (*rhs)(DAMG, Vec));
00458 
00460   PetscErrorCode <a class="code" href="namespaceot.html#a100">DAMGSolve</a>(DAMG* damg);
00461 
00463   PetscErrorCode <a class="code" href="namespaceot.html#a98">DAMGSetInitialGuess</a>(DAMG*, PetscErrorCode (*)(DAMG, Vec));
00464 
00466   PetscErrorCode <a class="code" href="namespaceot.html#a99">DAMGInitialGuessCurrent</a>(DAMG, Vec);
00467 
00469   <span class="keywordtype">void</span> <a class="code" href="namespaceot.html#a108">PrintDAMG</a>(DAMG*);
00470 
00472   <span class="keywordtype">int</span> <a class="code" href="namespaceot.html#a88">DAMGCreateSuppressedDOFs</a>(DAMG* damg);
00473 
00477   <span class="keywordtype">void</span> <a class="code" href="namespaceot.html#a92">DAMG_InitPrivateType1</a>(MPI_Comm comm);
00478 
00483   <span class="keywordtype">void</span> <a class="code" href="namespaceot.html#a91">DAMG_InitPrivateType2</a>(MPI_Comm comm);
00484 
00487   <span class="keywordtype">void</span> <a class="code" href="namespaceot.html#a90">DAMG_InitPrivateType3</a>(MPI_Comm comm);
00488 
00490   PetscErrorCode <a class="code" href="namespaceot.html#a89">DAMG_Initialize</a>(MPI_Comm comm);
00491 
00493   PetscErrorCode <a class="code" href="namespaceot.html#a93">DAMG_Finalize</a>();
00494 
00496   PetscErrorCode <a class="code" href="namespaceot.html#a94">DAMGDestroy</a>(DAMG* damg);
00497 
<a name="l00502"></a><a class="code" href="omg_8h.html#a34">00502</a> <span class="preprocessor">#define DAMGGetRHS(ctx)              (ctx)[(ctx)[0]-&gt;nlevels-1]-&gt;b</span>
00503 <span class="preprocessor"></span>
<a name="l00508"></a><a class="code" href="omg_8h.html#a35">00508</a> <span class="preprocessor">#define DAMGGetr(ctx)              (ctx)[(ctx)[0]-&gt;nlevels-1]-&gt;r</span>
00509 <span class="preprocessor"></span>
<a name="l00514"></a><a class="code" href="omg_8h.html#a36">00514</a> <span class="preprocessor">#define DAMGGetx(ctx)              (ctx)[(ctx)[0]-&gt;nlevels-1]-&gt;x</span>
00515 <span class="preprocessor"></span>
<a name="l00520"></a><a class="code" href="omg_8h.html#a37">00520</a> <span class="preprocessor">#define DAMGGetComm(ctx)           (ctx)[(ctx)[0]-&gt;nlevels-1]-&gt;comm</span>
00521 <span class="preprocessor"></span>
<a name="l00526"></a><a class="code" href="omg_8h.html#a38">00526</a> <span class="preprocessor">#define DAMGGetJ(ctx)              (ctx)[(ctx)[0]-&gt;nlevels-1]-&gt;J</span>
00527 <span class="preprocessor"></span>
<a name="l00532"></a><a class="code" href="omg_8h.html#a39">00532</a> <span class="preprocessor">#define DAMGGetB(ctx)              (ctx)[(ctx)[0]-&gt;nlevels-1]-&gt;B</span>
00533 <span class="preprocessor"></span>
<a name="l00538"></a><a class="code" href="omg_8h.html#a40">00538</a> <span class="preprocessor">#define DAMGGetFine(ctx)           (ctx)[(ctx)[0]-&gt;nlevels-1]</span>
00539 <span class="preprocessor"></span>
<a name="l00544"></a><a class="code" href="omg_8h.html#a41">00544</a> <span class="preprocessor">#define DAMGGetKSP(ctx)            (ctx)[(ctx)[0]-&gt;nlevels-1]-&gt;ksp</span>
00545 <span class="preprocessor"></span>
<a name="l00550"></a><a class="code" href="omg_8h.html#a42">00550</a> <span class="preprocessor">#define DAMGGetDA(ctx)             ((ctx)[(ctx)[0]-&gt;nlevels-1]-&gt;da)</span>
00551 <span class="preprocessor"></span>
<a name="l00556"></a><a class="code" href="omg_8h.html#a43">00556</a> <span class="preprocessor">#define DAMGGetUser(ctx,level)     ((ctx)[level]-&gt;user)</span>
00557 <span class="preprocessor"></span>
<a name="l00562"></a><a class="code" href="omg_8h.html#a44">00562</a> <span class="preprocessor">#define DAMGSetUser(ctx,level,usr) ((ctx)[level]-&gt;user = usr,0)</span>
00563 <span class="preprocessor"></span>
<a name="l00568"></a><a class="code" href="omg_8h.html#a45">00568</a> <span class="preprocessor">#define DAMGGetLevels(ctx)         (ctx)[0]-&gt;nlevels</span>
00569 <span class="preprocessor"></span>
<a name="l00574"></a><a class="code" href="omg_8h.html#a46">00574</a> <span class="preprocessor">#define DAMGGetDAMG(ctx)              (ctx)[(ctx)[0]-&gt;nlevels-1]</span>
00575 <span class="preprocessor"></span>
00576   PetscErrorCode <a class="code" href="namespaceot.html#a138">DAMGSetNullSpace</a>(DAMG* damg, PetscTruth, <span class="keywordtype">int</span>, PetscErrorCode (*)(DAMG,Vec[]));
00577 
00589   <span class="keywordtype">int</span> <a class="code" href="namespacepar.html#a19">scatterValues</a>(Vec in, Vec out, PetscInt inSz, PetscInt outSz,
00590       <span class="keywordtype">int</span> *&amp; sendSz, <span class="keywordtype">int</span> *&amp; sendOff, <span class="keywordtype">int</span> *&amp; recvSz, <span class="keywordtype">int</span> *&amp; recvOff, MPI_Comm comm);
00591 
00592   PetscErrorCode <a class="code" href="namespaceot.html#a104">DAMGSetUp</a>(DAMG*);
00593 
00594   PetscErrorCode <a class="code" href="namespaceot.html#a101">DAMGSolveKSP</a>(DAMG *damg, <span class="keywordtype">int</span> level);
00595 
00596   PetscErrorCode <a class="code" href="namespaceot.html#a102">DAMGSetUpLevel</a>(DAMG* damg, KSP ksp, <span class="keywordtype">int</span> nlevels);
00597 
00598   <span class="comment">/*Matrix-Free Intergrid Transfer Operators */</span>
00599   <span class="keywordtype">int</span> <a class="code" href="namespaceot.html#a122">destroyRmatType1Stencil</a>(<span class="keywordtype">double</span> *****&amp;lut);
00600   <span class="keywordtype">int</span> <a class="code" href="namespaceot.html#a125">destroyRmatType2Stencil</a>(<span class="keywordtype">double</span> ****&amp;lut);
00601   <span class="keywordtype">int</span> <a class="code" href="namespaceot.html#a128">destroyVtxMaps</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> ****&amp;map1, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *****&amp;map2,
00602       <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *****&amp;map3, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> ******&amp;map4);
00603 
00604   <span class="keywordtype">int</span> <a class="code" href="namespaceot.html#a120">readRmatType1Stencil</a>(<span class="keywordtype">double</span> *****&amp;lut);
00605   <span class="keywordtype">int</span> <a class="code" href="namespaceot.html#a123">readRmatType2Stencil</a>(<span class="keywordtype">double</span> ****&amp;lut);
00606   <span class="keywordtype">int</span> <a class="code" href="namespaceot.html#a126">readVtxMaps</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> ****&amp;map1, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *****&amp;map2,
00607       <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *****&amp;map3, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> ******&amp;map4);
00608 
00609   <span class="keywordtype">int</span> <a class="code" href="namespaceot.html#a121">IreadRmatType1Stencil</a>(<span class="keywordtype">double</span> *****&amp;lut, <span class="keywordtype">int</span> rank);
00610   <span class="keywordtype">int</span> <a class="code" href="namespaceot.html#a124">IreadRmatType2Stencil</a>(<span class="keywordtype">double</span> ****&amp;lut, <span class="keywordtype">int</span> rank);
00611   <span class="keywordtype">int</span> <a class="code" href="namespaceot.html#a127">IreadVtxMaps</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> ****&amp;map1, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *****&amp;map2,
00612       <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *****&amp;map3, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> ******&amp;map4, <span class="keywordtype">int</span> rank);
00613 
00614 
00615   <span class="comment">//Coarse and fine are aligned. No need to use da_aux</span>
00616   PetscErrorCode <a class="code" href="namespaceot.html#a105">createInterpolationType1</a>(DAMG , DAMG, Mat *);
00617   PetscErrorCode <a class="code" href="namespaceot.html#a115">prolongMatVecType1</a>(Mat, Vec, Vec);
00618   PetscErrorCode <a class="code" href="namespaceot.html#a119">restrictMatVecType1</a>(Mat, Vec, Vec);
00619   PetscErrorCode <a class="code" href="namespaceot.html#a118">dummyRestrictMatVecType1</a>(TransferOpData* data);
00620 
00621   <span class="comment">//Coarse and fine are NOT aligned. Need to use da_aux.</span>
00622   PetscErrorCode  <a class="code" href="namespaceot.html#a106">createInterpolationType2</a>(DAMG , DAMG, Mat *);
00623   PetscErrorCode <a class="code" href="namespaceot.html#a114">prolongMatVecType2</a>(Mat, Vec, Vec);
00624   PetscErrorCode   <a class="code" href="namespaceot.html#a117">restrictMatVecType2</a>(Mat, Vec, Vec);
00625 
00626   PetscErrorCode <a class="code" href="namespaceot.html#a113">addProlongMatVec</a>(Mat, Vec, Vec, Vec);
00627   PetscErrorCode  <a class="code" href="namespaceot.html#a116">addRestrictMatVec</a>(Mat, Vec, Vec, Vec);
00628 
00629   PetscErrorCode  <a class="code" href="namespaceot.html#a107">rpMatDestroy</a>(Mat);
00630 
00632 
00633 }<span class="comment">//end namespace</span>
00634 
00635 
00636 <span class="keyword">namespace </span>par {
00637 
00638   <span class="comment">//Forward Declaration</span>
00639   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
00640     <span class="keyword">class </span>Mpi_datatype;
00641 
00642   <span class="comment">//Used only with ReadFromGhosts</span>
00643   <span class="keyword">template</span> &lt;&gt;
<a name="l00644"></a><a class="code" href="classpar_1_1Mpi__datatype_3_01ot_1_1FineTouchedStatus_01_4.html">00644</a>     <span class="keyword">class </span><a class="code" href="classpar_1_1Mpi__datatype.html">Mpi_datatype</a>&lt; ot::FineTouchedStatus &gt; {
00645       <span class="keyword">public</span>: 
<a name="l00646"></a><a class="code" href="classpar_1_1Mpi__datatype_3_01ot_1_1FineTouchedStatus_01_4.html#e0">00646</a>         <span class="keyword">static</span> MPI_Datatype value()
00647         {
00648           <span class="keyword">static</span> <span class="keywordtype">bool</span>  first = <span class="keyword">true</span>;
00649           <span class="keyword">static</span> MPI_Datatype datatype;
00650 
00651           <span class="keywordflow">if</span> (first)
00652           {
00653             first = <span class="keyword">false</span>;
00654             MPI_Type_contiguous(<span class="keyword">sizeof</span>(<a class="code" href="classot_1_1FineTouchedStatus.html">ot::FineTouchedStatus</a>), MPI_BYTE, &amp;datatype);
00655             MPI_Type_commit(&amp;datatype);
00656           }
00657 
00658           <span class="keywordflow">return</span> datatype;
00659         }
00660     };
00661 
00662   <span class="comment">//Used only with WriteToGhosts</span>
00663   <span class="keyword">template</span> &lt;&gt;
<a name="l00664"></a><a class="code" href="classpar_1_1Mpi__datatype_3_01ot_1_1FineTouchedDummyStatus_01_4.html">00664</a>     <span class="keyword">class </span><a class="code" href="classpar_1_1Mpi__datatype.html">Mpi_datatype</a>&lt; ot::FineTouchedDummyStatus &gt; {
00665       <span class="keyword">public</span>: 
<a name="l00666"></a><a class="code" href="classpar_1_1Mpi__datatype_3_01ot_1_1FineTouchedDummyStatus_01_4.html#e0">00666</a>         <span class="keyword">static</span> MPI_Datatype value()
00667         {
00668           <span class="keyword">static</span> <span class="keywordtype">bool</span>  first = <span class="keyword">true</span>;
00669           <span class="keyword">static</span> MPI_Datatype datatype;
00670 
00671           <span class="keywordflow">if</span> (first)
00672           {
00673             first = <span class="keyword">false</span>;
00674             MPI_Type_contiguous(<span class="keyword">sizeof</span>(<a class="code" href="classot_1_1FineTouchedDummyStatus.html">ot::FineTouchedDummyStatus</a>), MPI_BYTE, &amp;datatype);
00675             MPI_Type_commit(&amp;datatype);
00676           }
00677 
00678           <span class="keywordflow">return</span> datatype;
00679         }
00680     };
00681 
00682 }<span class="comment">//end namespace par</span>
00683 
00684 
00685 <span class="preprocessor">#endif</span>
00686 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Dec 10 11:31:29 2008 for DENDRO by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
