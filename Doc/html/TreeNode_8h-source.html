<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DENDRO: /net/ac190/www-db1/grads/r/rahulss/Dendro/include/oct/TreeNode.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000001.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000004.html">oct</a></div>
<h1>TreeNode.h</h1><a href="TreeNode_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 
00009 <span class="preprocessor">#ifndef _TREENODE_H_</span>
00010 <span class="preprocessor"></span><span class="preprocessor">#define _TREENODE_H_</span>
00011 <span class="preprocessor"></span>
00012 <span class="preprocessor">#include "<a class="code" href="octUtils_8h.html">octUtils.h</a>"</span>
00013 <span class="preprocessor">#include "<a class="code" href="Point_8h.html">Point.h</a>"</span>
00014 <span class="preprocessor">#include &lt;iostream&gt;</span>
00015 
00016 <span class="preprocessor">#ifdef __DEBUG__</span>
00017 <span class="preprocessor"></span><span class="preprocessor">#ifndef __DEBUG_TN__</span>
00018 <span class="preprocessor"></span><span class="preprocessor">#define __DEBUG_TN__</span>
00019 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00020 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00021 <span class="preprocessor"></span>
00022 <span class="keyword">namespace </span>ot {
00023 
<a name="l00028"></a><a class="code" href="classot_1_1TreeNode.html">00028</a>   <span class="keyword">class </span><a class="code" href="classot_1_1TreeNode.html">TreeNode</a> {
00029     <span class="keyword">protected</span>:
00030       <span class="comment">//Level is also used as a flag.</span>
<a name="l00031"></a><a class="code" href="classot_1_1TreeNode.html#p6">00031</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_uiX, m_uiY, m_uiZ, m_uiLevel, m_uiWeight, m_uiDim, m_uiMaxDepth;      
00032       <span class="comment">//constructor without checks: only for faster construction.</span>
00033       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> (<span class="keyword">const</span> <span class="keywordtype">int</span> dummy, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y,
00034           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim,
00035           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxDepth);
00036 
00037     <span class="keyword">public</span>:
00038 
<a name="l00042"></a><a class="code" href="classot_1_1TreeNode.html#w1">00042</a>       <span class="keyword">enum</span> BoundaryType1 { NEGATIVE= 2, POSITIVE= 4};
00043 
<a name="l00047"></a><a class="code" href="classot_1_1TreeNode.html#w2">00047</a>       <span class="keyword">enum</span> BoundaryType2 {
00048         X_NEG_BDY=1, Y_NEG_BDY=2, Z_NEG_BDY=4, NEG_POS_DEMARCATION=8, 
00049         EXTERNAL_BDY=16, X_POS_BDY=32, Y_POS_BDY=64, Z_POS_BDY=128
00050       };
00051 
<a name="l00055"></a><a class="code" href="classot_1_1TreeNode.html#w3">00055</a>       <span class="keyword">enum</span> BoundaryType3 {
00056         FACE_BDY=1, EDGE_BDY=2, CORNER_BDY=3
00057       };
00058 
<a name="l00059"></a><a class="code" href="classot_1_1TreeNode.html#w12">00059</a>       <span class="keyword">enum</span> OctantFlagType {
00060        MAX_LEVEL=31, BOUNDARY=64, NODE=128 
00061       };
00062 
00074       <span class="keywordtype">int</span> addBalancingDescendants(<a class="code" href="classot_1_1TreeNode.html">TreeNode</a> other, std::vector&lt;TreeNode&gt; &amp;seeds,
00075           <span class="keywordtype">bool</span> incCorners) <span class="keyword">const</span>;
00076 
00085       <span class="keywordtype">int</span> balanceSubtree(std::vector&lt;TreeNode &gt; &amp; in, std::vector&lt;TreeNode &gt; &amp; out,
00086           <span class="keywordtype">bool</span> incCorners, <span class="keywordtype">bool</span> isSortedCompleteLinear) <span class="keyword">const</span>;      
00087 
00095       <span class="keywordtype">int</span> <a class="code" href="namespaceot.html#a34">completeSubtree</a>(std::vector&lt;TreeNode &gt; &amp; in, std::vector&lt;TreeNode &gt; &amp; out) <span class="keyword">const</span>;
00096 
00104       <span class="keywordtype">int</span> pickInternalBoundaryCells(std::vector&lt;TreeNode &gt;&amp; in, std::vector&lt;TreeNode &gt; &amp; out) <span class="keyword">const</span>;      
00105 
00115       <span class="keywordtype">int</span> splitInternalAndBoundaryCells(std::vector&lt;TreeNode&gt; &amp; allInternal,
00116           std::vector&lt;TreeNode&gt; &amp; onlyInternal,std::vector&lt;TreeNode&gt; &amp; boundary) <span class="keyword">const</span>;
00117 
00120 
00128       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxDepth);
00129 
00139       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z,
00140           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxDepth);
00141 
00146       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> (<span class="keyword">const</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> &amp; other);
00147 
00152       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> ();
00154 
00157 
00163       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> &amp; operator = (<a class="code" href="classot_1_1TreeNode.html">TreeNode</a> <span class="keyword">const</span>  &amp; other);
00164 
00170       <span class="keywordtype">bool</span>  operator == ( <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> <span class="keyword">const</span>  &amp;other) <span class="keyword">const</span>;
00171 
00177       <span class="keywordtype">bool</span>  operator != (<a class="code" href="classot_1_1TreeNode.html">TreeNode</a> <span class="keyword">const</span>  &amp;other) <span class="keyword">const</span>;
00178 
00184       <span class="keywordtype">bool</span>  operator &lt; ( <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> <span class="keyword">const</span>  &amp;other) <span class="keyword">const</span>;
00185 
00190       <span class="keywordtype">bool</span>  operator &gt; ( <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> <span class="keyword">const</span>  &amp;other) <span class="keyword">const</span>;
00191 
00196       <span class="keywordtype">bool</span>  operator &lt;= ( <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> <span class="keyword">const</span>  &amp;other) <span class="keyword">const</span>;
00197 
00202       <span class="keywordtype">bool</span>  operator &gt;= ( <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> <span class="keyword">const</span>  &amp;other) <span class="keyword">const</span>;
00203 
00208       <span class="keyword">friend</span> std::ostream &amp; <a class="code" href="compareNlFiles_8C.html#a0">operator &lt;&lt; </a>(std::ostream &amp; os,<a class="code" href="classot_1_1TreeNode.html">TreeNode</a> <span class="keyword">const</span> &amp; node) ;  
00210 
00216       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getDim() <span class="keyword">const</span>;
00217       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getMaxDepth() <span class="keyword">const</span>;
00218       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getWeight() <span class="keyword">const</span>;
00219       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getLevel() <span class="keyword">const</span>;
00220       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getFlag() <span class="keyword">const</span>;
00221       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getX() <span class="keyword">const</span>;
00222       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getY() <span class="keyword">const</span>;
00223       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getZ() <span class="keyword">const</span>;
00224       <span class="keywordtype">int</span> getAnchor(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;x, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp;y, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp;z) <span class="keyword">const</span>;
<a name="l00225"></a><a class="code" href="classot_1_1TreeNode.html#z19_1">00225</a>       <a class="code" href="classPoint.html">Point</a> getAnchor()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPoint.html">Point</a>(m_uiX, m_uiY, m_uiZ); };
00226       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getParentX() <span class="keyword">const</span>;
00227       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getParentY() <span class="keyword">const</span>;
00228       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getParentZ() <span class="keyword">const</span>;    
00229       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> getChildNumber() <span class="keyword">const</span>;
00230       <span class="keywordtype">int</span> setWeight(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> w);
00231       <span class="keywordtype">int</span> addWeight(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> w);
00232       <span class="keywordtype">int</span> setFlag(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> w);
00233       <span class="keywordtype">int</span> orFlag(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> w);
00235 
00241       <span class="keywordtype">bool</span> isAncestor(<span class="keyword">const</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> &amp; other) <span class="keyword">const</span>;
00242 
00249       <span class="keywordtype">bool</span> isBoundaryOctant(<span class="keywordtype">int</span> type=POSITIVE, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *flags=NULL) <span class="keyword">const</span>;
00250 
00257       <span class="keywordtype">bool</span> isBoundaryOctant(<span class="keyword">const</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> &amp;block, <span class="keywordtype">int</span> type=POSITIVE, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *flags=NULL) <span class="keyword">const</span>;
00258 
00263       <span class="keywordtype">int</span> addChildren(std::vector&lt;TreeNode &gt; &amp;list) <span class="keyword">const</span>;
00264 
00269       <span class="keywordtype">int</span> addBrothers(std::vector&lt;TreeNode&gt;&amp;brothers) <span class="keyword">const</span>;
00270 
00275       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getParent() <span class="keyword">const</span>;
00276 
00282       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getAncestor(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ancLev) <span class="keyword">const</span>;
00283 
00288       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> getDFD() <span class="keyword">const</span>;
00289 
00294       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a> getDLD() <span class="keyword">const</span>;
00295 
00300       std::vector&lt;bool&gt; getMorton() <span class="keyword">const</span>;
00301 
00302       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> minX() <span class="keyword">const</span>;
00303       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> minY() <span class="keyword">const</span>;
00304       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> minZ() <span class="keyword">const</span>;
00305       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxX() <span class="keyword">const</span>;
00306       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxY() <span class="keyword">const</span>;
00307       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxZ() <span class="keyword">const</span>;
00308 
00309       std::vector&lt;TreeNode&gt; getSearchKeys(<span class="keywordtype">bool</span> incCorners);
00310 
00316       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getLeft() <span class="keyword">const</span>;
00317       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getRight() <span class="keyword">const</span>;
00318       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getTop() <span class="keyword">const</span>;
00319       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getBottom() <span class="keyword">const</span>;
00320       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getFront() <span class="keyword">const</span>;
00321       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getBack() <span class="keyword">const</span>; 
00322       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getTopLeft() <span class="keyword">const</span>;
00323       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getTopRight() <span class="keyword">const</span>;
00324       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getBottomLeft() <span class="keyword">const</span>; 
00325       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getBottomRight() <span class="keyword">const</span>;
00326       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getLeftFront() <span class="keyword">const</span>;
00327       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getRightFront() <span class="keyword">const</span>;
00328       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getTopFront() <span class="keyword">const</span>;
00329       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getBottomFront() <span class="keyword">const</span>;
00330       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getTopLeftFront() <span class="keyword">const</span>;
00331       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getTopRightFront() <span class="keyword">const</span>;
00332       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getBottomLeftFront() <span class="keyword">const</span>;
00333       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getBottomRightFront() <span class="keyword">const</span>;
00334       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getLeftBack() <span class="keyword">const</span>;
00335       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getRightBack() <span class="keyword">const</span>;
00336       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getTopBack() <span class="keyword">const</span>;
00337       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getBottomBack() <span class="keyword">const</span>;
00338       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getTopLeftBack() <span class="keyword">const</span>;
00339       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getTopRightBack() <span class="keyword">const</span>;
00340       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getBottomLeftBack() <span class="keyword">const</span>;
00341       <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>  getBottomRightBack() <span class="keyword">const</span>;
00342       std::vector&lt;TreeNode&gt; getAllNeighbours() <span class="keyword">const</span>;
00344 
00350       std::vector&lt;TreeNode &gt; getB_Left() <span class="keyword">const</span>;
00351       std::vector&lt;TreeNode &gt; getB_Right() <span class="keyword">const</span>;
00352       std::vector&lt;TreeNode &gt; getB_Top() <span class="keyword">const</span>;
00353       std::vector&lt;TreeNode &gt; getB_Bottom() <span class="keyword">const</span>;
00354       std::vector&lt;TreeNode &gt; getB_Front() <span class="keyword">const</span>;
00355       std::vector&lt;TreeNode &gt; getB_Back() <span class="keyword">const</span>; 
00356       std::vector&lt;TreeNode &gt; getB_TopLeft() <span class="keyword">const</span>;
00357       std::vector&lt;TreeNode &gt; getB_TopRight() <span class="keyword">const</span>;
00358       std::vector&lt;TreeNode &gt; getB_BottomLeft() <span class="keyword">const</span>; 
00359       std::vector&lt;TreeNode &gt; getB_BottomRight() <span class="keyword">const</span>;
00360       std::vector&lt;TreeNode &gt; getB_LeftFront() <span class="keyword">const</span>;
00361       std::vector&lt;TreeNode &gt; getB_RightFront() <span class="keyword">const</span>;
00362       std::vector&lt;TreeNode &gt; getB_TopFront() <span class="keyword">const</span>;
00363       std::vector&lt;TreeNode &gt; getB_BottomFront() <span class="keyword">const</span>;
00364       std::vector&lt;TreeNode &gt; getB_TopLeftFront() <span class="keyword">const</span>;
00365       std::vector&lt;TreeNode &gt; getB_TopRightFront() <span class="keyword">const</span>;
00366       std::vector&lt;TreeNode &gt; getB_BottomLeftFront() <span class="keyword">const</span>;
00367       std::vector&lt;TreeNode &gt; getB_BottomRightFront() <span class="keyword">const</span>;
00368       std::vector&lt;TreeNode &gt; getB_LeftBack() <span class="keyword">const</span>;
00369       std::vector&lt;TreeNode &gt; getB_RightBack() <span class="keyword">const</span>;
00370       std::vector&lt;TreeNode &gt; getB_TopBack() <span class="keyword">const</span>;
00371       std::vector&lt;TreeNode &gt; getB_BottomBack() <span class="keyword">const</span>;
00372       std::vector&lt;TreeNode &gt; getB_TopLeftBack() <span class="keyword">const</span>;
00373       std::vector&lt;TreeNode &gt; getB_TopRightBack() <span class="keyword">const</span>;
00374       std::vector&lt;TreeNode &gt; getB_BottomLeftBack() <span class="keyword">const</span>;
00375       std::vector&lt;TreeNode &gt; getB_BottomRightBack() <span class="keyword">const</span>;
00376       std::vector&lt;std::vector&lt;TreeNode&gt; &gt; getAllB_Neighbours() <span class="keyword">const</span>;
00378 
00379   };<span class="comment">//end of the class definition.</span>
00380 
00381 }<span class="comment">//end namespace</span>
00382 
00383 <span class="preprocessor">#include "<a class="code" href="TreeNode_8txx.html">TreeNode.txx</a>"</span>
00384 
00385 <span class="keyword">namespace </span>par {
00386 
00387   <span class="comment">//Forward Declaration</span>
00388   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
00389     <span class="keyword">class </span>Mpi_datatype;
00390 
00395   <span class="keyword">template</span> &lt;&gt;
<a name="l00396"></a><a class="code" href="classpar_1_1Mpi__datatype_3_01ot_1_1TreeNode_01_4.html">00396</a>     <span class="keyword">class </span><a class="code" href="classpar_1_1Mpi__datatype.html">Mpi_datatype</a>&lt; ot::TreeNode &gt; {
00397 
00398       <span class="keyword">static</span> <span class="keywordtype">void</span> Node_MAX_LEVEL(<span class="keywordtype">void</span> *in, <span class="keywordtype">void</span> *inout, <span class="keywordtype">int</span>* len, MPI_Datatype * dptr) {
00399         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; (*len); i++) {
00400           <a class="code" href="classot_1_1TreeNode.html">ot::TreeNode</a> first = (static_cast&lt;ot::TreeNode*&gt;(in))[i];
00401           <a class="code" href="classot_1_1TreeNode.html">ot::TreeNode</a> second = (static_cast&lt;ot::TreeNode*&gt;(inout))[i];
00402           (static_cast&lt;ot::TreeNode*&gt;(inout))[i] =
00403             ( ( (first.<a class="code" href="classot_1_1TreeNode.html#z19_6">getLevel</a>()) &gt; (second.<a class="code" href="classot_1_1TreeNode.html#z19_6">getLevel</a>()) )? first : second );
00404         }<span class="comment">//end for      </span>
00405       }<span class="comment">//end function</span>
00406 
00407       <span class="keyword">static</span> <span class="keywordtype">void</span> Node_MAX(<span class="keywordtype">void</span> *in, <span class="keywordtype">void</span> *inout, <span class="keywordtype">int</span>* len, MPI_Datatype * dptr) {
00408         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; (*len); i++) {
00409           <a class="code" href="classot_1_1TreeNode.html">ot::TreeNode</a> first = (static_cast&lt;ot::TreeNode*&gt;(in))[i];
00410           <a class="code" href="classot_1_1TreeNode.html">ot::TreeNode</a> second = (static_cast&lt;ot::TreeNode*&gt;(inout))[i];
00411           (static_cast&lt;ot::TreeNode*&gt;(inout))[i] = ( ( first &gt; second )? first : second );
00412         }<span class="comment">//end for      </span>
00413       }<span class="comment">//end function</span>
00414 
00415       <span class="keyword">static</span> <span class="keywordtype">void</span> Node_MIN(<span class="keywordtype">void</span> *in, <span class="keywordtype">void</span> *inout, <span class="keywordtype">int</span>* len, MPI_Datatype * dptr) {
00416         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; (*len); i++) {
00417           <a class="code" href="classot_1_1TreeNode.html">ot::TreeNode</a> first = (static_cast&lt;ot::TreeNode*&gt;(in))[i];
00418           <a class="code" href="classot_1_1TreeNode.html">ot::TreeNode</a> second = (static_cast&lt;ot::TreeNode*&gt;(inout))[i];
00419           (static_cast&lt;ot::TreeNode*&gt;(inout))[i] = ( ( first &lt; second )? first : second );
00420         }<span class="comment">//end for      </span>
00421       }<span class="comment">//end function</span>
00422 
00423       <span class="keyword">static</span> <span class="keywordtype">void</span> Node_NCA(<span class="keywordtype">void</span> *in, <span class="keywordtype">void</span> *inout, <span class="keywordtype">int</span>* len, MPI_Datatype * dptr) {
00424         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; (*len); i++) {
00425           <a class="code" href="classot_1_1TreeNode.html">ot::TreeNode</a> first = (static_cast&lt;ot::TreeNode*&gt;(in))[i];
00426           <a class="code" href="classot_1_1TreeNode.html">ot::TreeNode</a> second = (static_cast&lt;ot::TreeNode*&gt;(inout))[i];
00427           <span class="keywordflow">if</span>( first != second ) {
00428             (static_cast&lt;ot::TreeNode*&gt;(inout))[i] = <a class="code" href="namespaceot.html#a47">ot::getNCA</a>(first, second);
00429           }<span class="comment">//end if</span>
00430         }<span class="comment">//end for      </span>
00431       }<span class="comment">//end function</span>
00432 
00433       <span class="keyword">public</span>:
<a name="l00438"></a><a class="code" href="classpar_1_1Mpi__datatype_3_01ot_1_1TreeNode_01_4.html#e2">00438</a>       <span class="keyword">static</span> MPI_Op MAX_LEVEL() {
00439         <span class="keyword">static</span> <span class="keywordtype">bool</span>         first = <span class="keyword">true</span>;
00440         <span class="keyword">static</span> MPI_Op maxLev;
00441         <span class="keywordflow">if</span> (first) {
00442           first = <span class="keyword">false</span>;
00443           MPI_Op_create(<a class="code" href="classpar_1_1Mpi__datatype.html">Mpi_datatype&lt;ot::TreeNode&gt;</a>::Node_MAX_LEVEL ,<span class="keyword">true</span> ,&amp;maxLev);
00444         }
00445         <span class="keywordflow">return</span> maxLev;
00446       }
00447 
<a name="l00453"></a><a class="code" href="classpar_1_1Mpi__datatype_3_01ot_1_1TreeNode_01_4.html#e0">00453</a>       <span class="keyword">static</span> MPI_Op _MAX() {
00454         <span class="keyword">static</span> <span class="keywordtype">bool</span>         first = <span class="keyword">true</span>;
00455         <span class="keyword">static</span> MPI_Op max;
00456         <span class="keywordflow">if</span> (first) {
00457           first = <span class="keyword">false</span>;
00458           MPI_Op_create(<a class="code" href="classpar_1_1Mpi__datatype.html">Mpi_datatype&lt;ot::TreeNode&gt;</a>::Node_MAX ,<span class="keyword">true</span> ,&amp;max);
00459         }
00460         <span class="keywordflow">return</span> max;
00461       }
00462 
<a name="l00468"></a><a class="code" href="classpar_1_1Mpi__datatype_3_01ot_1_1TreeNode_01_4.html#e1">00468</a>       <span class="keyword">static</span> MPI_Op _MIN() {
00469         <span class="keyword">static</span> <span class="keywordtype">bool</span>         first = <span class="keyword">true</span>;
00470         <span class="keyword">static</span> MPI_Op min;
00471         <span class="keywordflow">if</span> (first) {
00472           first = <span class="keyword">false</span>;
00473           MPI_Op_create(<a class="code" href="classpar_1_1Mpi__datatype.html">Mpi_datatype&lt;ot::TreeNode&gt;</a>::Node_MIN ,<span class="keyword">true</span> ,&amp;min);
00474         }
00475         <span class="keywordflow">return</span> min;
00476       }
00477 
<a name="l00483"></a><a class="code" href="classpar_1_1Mpi__datatype_3_01ot_1_1TreeNode_01_4.html#e3">00483</a>       <span class="keyword">static</span> MPI_Op NCA() {
00484         <span class="keyword">static</span> <span class="keywordtype">bool</span>         first = <span class="keyword">true</span>;
00485         <span class="keyword">static</span> MPI_Op nca;
00486         <span class="keywordflow">if</span> (first) {
00487           first = <span class="keyword">false</span>;
00488           MPI_Op_create(<a class="code" href="classpar_1_1Mpi__datatype.html">Mpi_datatype&lt;ot::TreeNode&gt;</a>::Node_NCA ,<span class="keyword">true</span> ,&amp;nca);
00489         }
00490         <span class="keywordflow">return</span> nca;
00491       }
00492 
<a name="l00496"></a><a class="code" href="classpar_1_1Mpi__datatype_3_01ot_1_1TreeNode_01_4.html#e4">00496</a>       <span class="keyword">static</span> MPI_Datatype value()
00497       {
00498         <span class="keyword">static</span> <span class="keywordtype">bool</span>         first = <span class="keyword">true</span>;
00499         <span class="keyword">static</span> MPI_Datatype datatype;
00500 
00501         <span class="keywordflow">if</span> (first)
00502         {
00503           first = <span class="keyword">false</span>;
00504           MPI_Type_contiguous(<span class="keyword">sizeof</span>(<a class="code" href="classot_1_1TreeNode.html">ot::TreeNode</a>), MPI_BYTE, &amp;datatype);
00505           MPI_Type_commit(&amp;datatype);
00506         }
00507 
00508         <span class="keywordflow">return</span> datatype;
00509       }
00510 
00511     };
00512 
00513 }<span class="comment">//end namespace par</span>
00514 
00515 <span class="preprocessor">#endif </span><span class="comment">/*NODE_H_*/</span>
00516 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Dec 10 11:31:28 2008 for DENDRO by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
